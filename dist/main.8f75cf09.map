{"version":3,"sources":["../js/main.js"],"names":["$","document","ready","deck","discNum","$board","$tower","find","buildTower","tower","html","i","prepend","click","eq","play","$discs","children","$smallest","selectedDiscId","data","$onDeck","length","removeClass","undefined","remove","append","addClass","on","$selectedTower"],"mappings":"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","file":"main.8f75cf09.map","sourceRoot":"../src/pug","sourcesContent":["// Game must:\n// [x] Only one disc moved at a time\n// [x] Every move takes top disc from one stack and places on top of another\n// [x] No disc can be put on top of a smaller disc\n\n// Bonus:\n// [ ] Time based scoring\n// [ ] Track scores across games (even when reloading)\n\n$(document).ready(function() {\n  // Variables\n  var deck = [],\n      discNum = 3,\n      $board = $(\".board\"),\n      $tower = $board.find(\".tower\");\n\n  // Start Game\n  function buildTower(tower) {\n    $tower.html(\"\");\n    for (i = 1; i <= discNum; i++) {\n      tower.prepend(\n        $('<li class=\"disc disc-' + i + '\" data-value=\"' + i + '\"></li>')\n      );\n    }\n  }\n\n  // Increase/Decrease discNum (not working?)\n\n  $(\".ad\").click(function() {\n    if (discNum < 7) {\n      discNum++;\n      buildTower($tower.eq(0))\n    }\n  });\n\n  $(\".sub\").click(function() {\n    if (discNum > 3) {\n      discNum--;\n      buildTower($tower.eq(0))\n    }\n  });\n\n  //Create Game\n\n  buildTower($tower.eq(0));\n\n  // Logic\n\n  function play(tower) {\n    var $discs = tower.children(), /* list items */\n        $smallest = tower.find(\":last-child\"),\n        selectedDiscId = $smallest.data(\"value\"),\n        $onDeck = $board.find(\".hold\");\n\n    /* If there is a disc to be selected */\n    if ($onDeck.length !== 0) { \n        // if there is a disc already selected\n      if (selectedDiscId === deck[0]) {\n        // deselect disk \n        $onDeck.removeClass(\"hold\");\n        // else if selectedDisc is < last child in new tower\n      } else if (selectedDiscId === undefined || selectedDiscId >= deck[0]) {\n          // remove disc from original tower\n          $onDeck.remove();\n          // if selected disc is smaller than top disc in the destination tower\n          // recreate identical disc in new tower \n          tower.append($('<li class=\"disc disc-' + deck[0] + '\" data-value=\"' + deck[0] + '\"></li>'))\n      }\n\n      //if no disc is selected\n    } else if ($smallest.length !== 0) {\n      $smallest.addClass(\"hold\");\n      deck[0] = selectedDiscId;\n    }\n    \n  }\n\n  // Click Events Ahoy\n\n  $board.on(\"click\", \".tower\", function() {\n    var $selectedTower = $(this);\n    play($selectedTower);\n  });\n\n  $(\".reset\").click(function() {\n    // discNum = 3;\n    buildTower($tower.eq(0));\n  });\n});"]}